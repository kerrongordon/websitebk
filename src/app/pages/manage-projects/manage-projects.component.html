<div class="adminPage" [ngClass]="{blur: toggleDelete}">

  <kgp-admin-bar pLink="/manageprojects/{{ ids }}"></kgp-admin-bar>

  <kgp-admin-side-bar>

    <div class="sidebarheader">
      <span (click)="closeItem()">Go Back</span>
      <span>Edit Projects</span>
      <span></span>
    </div>

    <kgp-admin-side-bar-item-project
      *ngFor="let data of (projects | async); index as i" 
      [data]="data" [ngClass]="{'is-active': ids === data.id }"
      id="item{{ i }}" target="_self" (click)="openItem(data.id, i)">
    </kgp-admin-side-bar-item-project>

    <ng-container *ngIf="( projects | async ) == null">
      <kgp-admin-side-bar-item-project *ngFor="let data of [1,2,3,4]">
      </kgp-admin-side-bar-item-project>
    </ng-container>
    
  </kgp-admin-side-bar>

    <kgp-admin-body [projectData]="(project | async)" [ngClass]="{mobileopen: mobileopen}">
      <div class="image-grid" *ngIf="project | async; let project;">
        <kgp-upload-image-button id="smaill" type="small" [postTitle]="project.title" [preImage]="project.image.small.url" (downloadURLOut)="geturlSmaill($event)"></kgp-upload-image-button>
        <kgp-upload-image-button id="big" type="big" [postTitle]="project.title" [preImage]="project.image.big.url" (downloadURLOut)="geturlBig($event)"></kgp-upload-image-button>
      </div>
      <footer>
        <kgp-button primary icon="ion-ios-compose" type="submit">Update</kgp-button>
        <kgp-button danger icon="ion-ios-trash" (onClick)="toggleDelete = !toggleDelete">Delete</kgp-button>
      </footer>
    </kgp-admin-body>

</div>

<kgp-dialog *ngIf="(project | async); let pro" [ngClass]="{dialogopen: toggleDelete}">
  <div>
    <div class="dialcon">
      <p>Are you Sure You What To Delete</p>
      <p>{{ pro.title }}</p>
    </div>
    <kgp-button danger icon="ion-ios-trash" (onClick)="deleteItem(pro.id)">Delete</kgp-button>
    <kgp-button primary icon="ion-ios-close" (onClick)="toggleDelete = !toggleDelete">Cancel</kgp-button>
  </div>
</kgp-dialog>
